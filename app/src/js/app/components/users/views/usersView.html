<div class="imm-wa__hdr imm-flex">
    <div class="imm-flex-5">
        <h1 class="imm-wa__tit">
            <a class="imm-bc-item" ui-sref="app.users">{{ 'users.title' | translate }}</a>
        </h1>
        <div class="imm-btn__right">
            <a ui-sref="app.userNew" class="imm-btn imm-btn--round">&#43; {{ 'users.user' | translate }}</a>
        </div>
    </div>
</div>
<div class="imm-wa__cnt">
    <table>
        <thead>
            <tr>
                <th>{{ 'users.id' | translate }}</th>
                <th ng-if="userRole != 'admin'"></th>
                <th>{{ 'users.name' | translate }}</th>
                <th>{{ 'users.email' | translate }}</th>
                <th>{{ 'users.role' | translate }}</th>
                <th class="imm-cstm__grid-5"></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><input class="field-filter" ng-model="filter.id"></td>
                <td ng-if="userRole != 'admin'"></td>
                <td><input class="field-filter" ng-model="filter.name"></td>
                <td><input class="field-filter" ng-model="filter.email"></td>
                <td><input class="field-filter" ng-model="filter.role"></td>
                <td></td>
            </tr>
            <tr ng-repeat="user in users | filter: filter">
                <td>{{user.id}}</td>
                <td><a ng-if="userRole == 'admin'" style="color: #4a90e2; text-decoration: underline" ui-sref="app.tasks-user({id: user.id})" >{{user.name | truncateTail:true:30:'...'}}</a></td>
                <td ng-if="userRole != 'admin'">{{user.name}}</td>
                <td>{{user.email}}</td>
                <td>{{user.role}}</td>
                <td>
                    <a ui-sref="app.userEdit({id: user.id})">
                        <i class="ri-edit-line"></i>
                    </a>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<paging
    ng-show="total>pageSize"
    page="currentPage"
    page-size="pageSize"
    total="total"
    hide-if-empty="true"
    show-prev-next="true"
    show-first-last="true"
    paging-action="pager(page)">
</paging>