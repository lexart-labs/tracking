<div class="imm-wa__hdr imm-flex">
  <div class="imm-flex-5">
    <h1 class="imm-wa__tit">
      <a class="imm-bc-item" ui-sref="app.users">{{ 'users.title' | translate }}</a>
    </h1>
    <div class="imm-bc">
      <a class="imm-bc-item">{{ 'users.user' | translate }}</a>
    </div>
    <div class="imm-bc" ng-if="user.name">
      <span class="imm-bc-item imm-bc--head">{{user.name}}</span>
    </div>
  </div>
</div>

<div class="imm-wa__cnt">
  <form class="imm-frm imm-frm--center">
    <div class="imm-frm__fldgrp">
      <div class="imm-frm__fld" ng-if="user.id">
        <label class="imm-frm__lbl">
          <input type="text" ng-value="user.id" readonly/>
          <b class="imm-frm__lbl-name">{{ 'ID' }}</b>
        </label>
      </div>

      <div class="imm-frm__fld">
        <label class="imm-frm__lbl">
          <input type="text" ng-model="user.name"/>
          <b class="imm-frm__lbl-name">{{ 'Name'}} <span class="required">*</span></b>
        </label>
      </div>

      <div class="imm-frm__fld">
        <label class="imm-frm__lbl">
          <input type="text" ng-model="user.email"/>
          <b class="imm-frm__lbl-name">{{ 'Email' }} <span class="required">*</span></b>
        </label>
      </div>
    </div>
    <div class="imm-frm__fldgrp">
      <div class="imm-frm__fld">
        <label class="imm-frm__lbl">
          <input type="password" ng-model="user.password" />
          <b class="imm-frm__lbl-name">{{ 'Password' }}</b>
        </label>
      </div>

      <div class="imm-frm__fld">
        <label class="imm-frm__lbl">
          <select name="mySelect" id="mySelect"
          ng-options="option for option in ['developer','client','admin','arquitect','pm' ] track by option"
          ng-model="user.role"></select>
          <b class="imm-frm__lbl-name">{{'Rol'}}</b>
        </label>
      </div>
    </div>
    <div class="imm-frm__fldgrp" ng-if="user.role=='client'">
      <div class="imm-frm__fld">

        <label class="imm-frm__lbl">
          <ui-select
          ng-model="user.idClient"
          class="imm-select imm-select--input"
          theme="selectize"
          append-to-body="true"
          >
          <ui-select-match>
            {{$select.selected.name}}
          </ui-select-match>
          <ui-select-choices repeat="client.id as client in clients | filter: { name: $select.search }">
            <div ng-bind-html="client.name | highlight: $select.selected.name"></div>
          </ui-select-choices>
        </ui-select>
        <b class="imm-frm__lbl-name">{{'Cliente'}}</b>
      </label>
    </div>
    <div class="imm-frm__fld">
      
    </div>

  </div>
</form>
</div>

<div class="imm-wa__actions">
  <p ng-if="error" class="err-display">{{error}} {{ 'general.cant_be_empty' | translate }}</p>
  <!--<a class=" imm-link__delete" ng-disabled="sendingData" ng-if="user.id" ng-click="delete()">{{ 'users.delete_user' | translate }}</a>-->
  <button class="imm-btn imm-btn--alt" ui-sref="app.users">{{ 'users.back' | translate }}</button>
  <button class="imm-btn" ng-disabled="sendingData" ng-click="save(user)">{{ 'users.save' | translate }}</button>
</div>
