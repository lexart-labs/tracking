<div class="imm-wa__hdr imm-flex">
    <div class="imm-flex-5">
        <h1 class="imm-wa__tit">
            <a class="imm-bc-item">Reportes</a>
        </h1>
    </div>
</div>
<div class="imm-frm__fld">
    <ul class="imm-tabs" ng-init="tabReport = 1">
        <li class="imm-tabs__item" ng-click="tabReport = 1" ng-class="{'imm-tabs__item--selected' : tabReport == 1}">Reportes Tareas</li>
        <li class="imm-tabs__item" ng-click="tabReport = 2" ng-class="{'imm-tabs__item--selected' : tabReport == 2}">Reportes Proyectos</li>
    </ul>
</div>
<div ng-if="tabReport == 1">
<div class="imm-wa__cnt">
    <div class="imm-frm__fldgrp">
        <div class="imm-frm__fld">
            <label class="imm-frm__lbl">
                <b class="imm-frm__lbl-name">{{ 'reports.start_time' | translate }}</b>
                <div moment-picker="filter.startTime" max-date="filter.startDate.maxDate">
                    <input ng-model="filter.startTime">
                </div>
            </label>
        </div>

        <div class="imm-frm__fld">
            <label class="imm-frm__lbl">
                <b class="imm-frm__lbl-name">{{ 'reports.end_time' | translate }}</b>
                <div moment-picker="filter.endTime" max-date="filter.endDate.maxDate" min-date="filter.startTime">
                    <input ng-model="filter.endTime">
                </div>
            </label>
        </div>

        <div class="imm-frm__fld" ng-if="userRole=='admin'">
            <label class="imm-frm__lbl">
                <b class="imm-frm__lbl-name">{{ 'reports.user' | translate }}</b>
                <ui-select
                ng-model="filter.idUser"
                class="imm-select imm-select--input"
                theme="selectize"
                title="{{ 'reports.users' | translate }}"
                append-to-body="true"
                >
                <ui-select-match>
                    {{$select.selected.name}}
                </ui-select-match>
                <ui-select-choices repeat="user.id as user in users | filter: $select.search">
                    <div ng-bind-html="user.name | highlight: $select.search"></div>
                </ui-select-choices>
            </ui-select>
        </label>
    </div>

    <div class="imm-frm__fld">
        <label class="imm-frm__lbl">
            <b class="imm-frm__lbl-name">{{ 'reports.client' | translate }}</b>
            <ui-select
                ng-if="isClient=='false'"
                ng-model="filter.idClient"
                class="imm-select imm-select--input"
                theme="selectize"
                title="{{ 'reports.clients' | translate }}"
                append-to-body="true"
                ng-change="getProjects(filter.idClient)"
                >
                <ui-select-match>
                    {{$select.selected.name}}
                </ui-select-match>
                <ui-select-choices repeat="client.id as client in clients | filter: $select.search">
                    <div ng-bind-html="client.name | highlight: $select.search"></div>
                </ui-select-choices>
            </ui-select>
            <input ng-if="isClient=='true'" type="text"  ng-value="client.name" readonly>
        </label>
    </div>

    <div class="imm-frm__fld">
        <label class="imm-frm__lbl">
            <b class="imm-frm__lbl-name">{{ 'reports.project' | translate }}</b>
            <ui-select
                ng-model="filter.idProject"
                class="imm-select imm-select--input"
                theme="selectize"
                title="{{ 'reports.projects' | translate }}"
                append-to-body="true"
                >
            <ui-select-match>
                {{$select.selected.name}}
            </ui-select-match>
            <ui-select-choices repeat="project.id as project in projects | filter: $select.search">
                <div ng-bind-html="project.name | highlight: $select.search"></div>
            </ui-select-choices>
        </ui-select>
        </label>
    </div>

    <div class="imm-frm__fld">
        <label class="imm-frm__lbl">
            <button class="imm-btn" ng-click="search()">{{ 'reports.search' | translate }}</button>
        </label>
    </div>
</div>
<div class="imm-frm__fld">
    <a style="display: none" download="{{excelName}}.xls" href="#/app/reports" onclick="return ngTableExcelExport.excel(this, 'datatable', 'prueba');" style="float: right;">
        <button>
            <img class="img_exportExcel" src="/assets/images/exportExcel.png" style="vertical-align: middle; margin: 0 5px;">Exportar</button>
    </a>
    <ul class="imm-tabs" ng-init="itemTab = 1">
        <li class="imm-tabs__item" ng-click="itemTab = 1" ng-class="{'imm-tabs__item--selected' : itemTab == 1}">Tabla</li>
        <li class="imm-tabs__item" ng-click="itemTab = 2" ng-class="{'imm-tabs__item--selected' : itemTab == 2}">Gr√°ficas</li>
    </ul>
</div>

<!-- Table -->
<div class="imm-wa__hdr imm-flex" ng-if="itemTab == 1">
    <div class="imm-flex-5">
        <h1 class="imm-wa__tit">
            <a class="imm-bc-item" ng-if="tracks.length">{{ 'reports.title' | translate }}</a>
        </h1>
    </div>
</div>
<div class="imm-wa__cnt">
   <div class="imm-flex" ng-if="itemTab == 1">
    <div class='flex-table' ng-if="tracks.length">
        <div class='flex-head'>
            <div class="flex-item">{{ 'reports.user' | translate }}</div>
            <div class="flex-item">{{ 'reports.client' | translate }}</div>
            <div class="flex-item">{{ 'reports.project' | translate }}</div>
            <div class="flex-item">{{ 'reports.task' | translate }}</div>
            <div class="flex-item">{{ 'reports.start_time' | translate }}</div>
            <div class="flex-item">{{ 'reports.end_time' | translate }}</div>
            <div class="flex-item">{{ 'reports.duration' | translate }}</div>
            <div class="flex-item">{{ 'reports.trackCost' | translate }}</div>
            <div style="flex: 5%;width: 5%;"></div>
        </div>
        <!-- ORDENADO POR USUARIO -->
        <div ng-repeat="tracks in tableTrack" class='flex-column' style="color: black;">
            <!-- ORDENADO POR PROYECTO -->
            <div ng-repeat="byProject in tracks.byProject" class='flex-column'>
                <!-- TRACKS -->
                <div ng-repeat="track in byProject.tracks track by $index" class='flex-column-wrap' id="datatable">
                    <div class='flex-row'>
                        <div class="flex-item">{{track.userName}}</div>
                        <div class="flex-item">{{track.clientName}}</div>
                        <div class="flex-item">{{track.projectName | truncateTail:true:20:'...'}}</div>
                        <div class="flex-item">{{track.taskName | truncateTail:true:20:'...'}}</div>
                        <div class="flex-item">{{track.startTime | date:'dd/MM/yyyy HH:mm' }}</div>
                        <div class="flex-item">{{track.endTime ? track.endTime : '' | date:'dd/MM/yyyy HH:mm' }}</div>
                        <div class="flex-item">{{track.duration}}</div>
                        <div class="flex-item">$ {{track.trackCost}}</div>
                        <div style="flex: 5%;width: 5%;">
                            <a href="" ng-click="editTrack(track)">
                                <img src="assets/images/icons/pencil-ico.svg">
                            </a>
                        </div>
                    </div>
                    <!-- SUBTOTAL POR PROYECTO -->
                    <div class='flex-row' ng-if='$index == byProject.tracks.length - 1 && !filter.idProject' style='background-color: #ffff0069;font-weight: bold;'>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item">{{byProject.projectName | truncateTail:true:20:'...'}}</div>
                        <div class="flex-item">{{byProject.duration}}</div>
                        <div class="flex-item">$ {{byProject.subTotalCost}}</div>
                        <div style="flex: 5%;width: 5%;">
                        </div>
                    </div>
                </div>   
            </div>
            <!-- SUBTOTAL POR USUARIO -->
            <div class='flex-column' ng-if="userRole=='admin' && !filter.idUser">
                <div class='flex-column-wrap'>
                    <div class='flex-row' style='background-color: rgba(60, 144, 190, 0.1);font-weight: bold;'>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item">{{ 'reports.sub_total' | translate | uppercase }}</div>
                        <div class="flex-item">{{tracks.duration}}</div>
                        <div class="flex-item">$ {{tracks.subTotalCost}}</div>
                        <div style="flex: 5%;width: 5%;">
                        </div>
                    </div>
                </div>   
            </div>
        </div>
        <div class='flex-column'>
            <div class='flex-column-wrap'>
                <div class='flex-row' style='background-color: rgba(59, 144, 190, 0.43);font-weight: bold;'>
                    <div class="flex-item"></div>
                    <div class="flex-item"></div>
                    <div class="flex-item"></div>
                    <div class="flex-item"></div>
                    <div class="flex-item"></div>
                    <div class="flex-item">{{ 'reports.total' | translate | uppercase }}</div>
                    <div class="flex-item">{{total}}</div>
                    <div class="flex-item">$ {{totalcost}}</div>
                    <div style="flex: 5%;width: 5%;">
                    </div>
                </div>
            </div>   
        </div>
    </div>
    <!-- <table ng-if="tracks.length" id="datatable">
        <thead>
            <tr>
                <th>{{ 'reports.user' | translate }}</th>
                <th>{{ 'reports.client' | translate }}</th>
                <th>{{ 'reports.project' | translate }}</th>
                <th>{{ 'reports.task' | translate }}</th>
                <th>{{ 'reports.start_time' | translate }}</th>
                <th>{{ 'reports.end_time' | translate }}</th>
                <th>{{ 'reports.duration' | translate }}</th>
                <th>{{ 'reports.trackCost' | translate }}</th>
                <th class="imm-cstm__grid-5"></th>
            </tr>
        </thead>
        <tbody ng-repeat="tracks in tableTrack track by $index">
            <tr ng-repeat="track in tracks.tracks"
                ng-class="{'active-task': track.type != 'projectInfo' && !track.endTime || track.endTime == '0000-00-00 00:00:00'}"
                >
                <td>{{track.userName + track.projectSubtotal.name}}</td>
                <td>{{track.clientName}}</td>
                <td>{{track.projectName | truncateTail:true:20:'...'}}</td>
                <td>{{track.taskName | truncateTail:true:20:'...'}}</td>
                <td>{{track.startTime | date:'dd/MM/yyyy HH:mm' }}</td>
                <td>{{track.endTime ? track.endTime : '' | date:'dd/MM/yyyy HH:mm' }}</td>
                <td>{{track.duration}}</td>
                <td>$ {{track.trackCost}}</td>
                <td>
                    <a href="" ng-click="editTrack(track)">
                        <img src="assets/images/icons/pencil-ico.svg">
                    </a>
                </td>
            </tr>
            <tr style="background-color: rgba(60, 144, 190, 0.1); font-weight: bold;">
                <td colspan="5"></td>
                <td>{{ 'reports.sub_total' | translate | uppercase }}</td>
                <td>{{tracks.duration}}</td>
                <td>$ {{tracks.subTotalCost}}</td >
                <td></td>
            </tr>
        </tbody>
        <tbody>
            <tr style="background-color: rgba(104, 149, 191, 0.4); font-weight: bold;">
                <td colspan="5"></td>
                <td>{{ 'reports.total' | translate | uppercase }}</td>
                <td>{{total}}</td>
                <td>$ {{totalcost}}</td>
                <td></td>
            </tr>
        </tbody>
    </table> -->

</div>
<div ng-if="itemTab == 1">
<br>
<a class="imm-bc-item" ng-if="autoTracks.length">{{ 'reports.titleAuto' | translate }}</a>
<br><br>
</div>
<div class="imm-flex" ng-if="itemTab == 1">
    <div class='flex-table' ng-if="tableTrackAuto.length > 0">
        <div class='flex-head'>
            <div class="flex-item">{{ 'reports.user' | translate }}</div>
            <div class="flex-item">{{ 'reports.client' | translate }}</div>
            <div class="flex-item">{{ 'reports.project' | translate }}</div>
            <div class="flex-item">{{ 'reports.task' | translate }}</div>
            <div class="flex-item">{{ 'reports.start_time' | translate }}</div>
            <div class="flex-item">{{ 'reports.end_time' | translate }}</div>
            <div class="flex-item">{{ 'reports.duration' | translate }}</div>
            <div class="flex-item">{{ 'reports.trackCost' | translate }}</div>
            <div style="flex: 5%;width: 5%;"></div>
        </div>
        <!-- ORDENADO POR USUARIO -->
        <div ng-repeat="tracks in tableTrackAuto" class='flex-column' style="color: black;">
            <!-- ORDENADO POR PROYECTO -->
            <div ng-repeat="byProject in tracks.byProject" class='flex-column'>
                <!-- TRACKS AUTOMATICOS -->
                <div ng-repeat="track in byProject.tracks track by $index" class='flex-column-wrap'>
                    <div class='flex-row'>
                        <div class="flex-item">{{track.usersName}}</div>
                        <div class="flex-item">{{track.client}}</div>
                        <div class="flex-item">{{track.projectError}}</div>
                        <div class="flex-item">{{track.error | truncateTail:true:20:'...'}}</div>
                        <div class="flex-item">{{track.startTime | date:'dd/MM/yyyy HH:mm' }}</div>
                        <div class="flex-item">{{track.endTime ? track.endTime : '' | date:'dd/MM/yyyy HH:mm' }}</div>
                        <div class="flex-item">{{track.durations}}</div>
                        <div class="flex-item">$ {{track.trackCost}}</div>
                        <div style="flex: 5%;width: 5%;">
                            <a href="" ng-click="editAutoTrack(track)">
                                <img src="assets/images/icons/pencil-ico.svg">
                            </a>
                        </div>
                    </div>
                    <!-- SUBTOTAL POR PROYECTO -->
                    <div class='flex-row' ng-if='$index == byProject.tracks.length - 1 && !filter.idProject' style='background-color: #ffff0069;font-weight: bold;'>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item">{{byProject.projectName | truncateTail:true:20:'...'}}</div>
                        <div class="flex-item">{{byProject.duration}}</div>
                        <div class="flex-item">$ {{byProject.subTotalCost}}</div>
                        <div style="flex: 5%;width: 5%;">
                        </div>
                    </div>
                </div>   
            </div>
            <!-- SUBTOTAL POR USUARIO -->
            <div class='flex-column' ng-if="userRole=='admin' && !filter.idUser">
                <div class='flex-column-wrap'>
                    <div class='flex-row' style='background-color: rgba(60, 144, 190, 0.1);font-weight: bold;'>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item">{{ 'reports.sub_total' | translate | uppercase }}</div>
                        <div class="flex-item">{{tracks.duration}}</div>
                        <div class="flex-item">$ {{tracks.subTotalCost}}</div>
                        <div style="flex: 5%;width: 5%;">
                        </div>
                    </div>
                </div>   
            </div>
        </div>
        <div class='flex-column'>
            <div class='flex-column-wrap'>
                <div class='flex-row' style='background-color: rgba(59, 144, 190, 0.43);font-weight: bold;'>
                    <div class="flex-item"></div>
                    <div class="flex-item"></div>
                    <div class="flex-item"></div>
                    <div class="flex-item"></div>
                    <div class="flex-item"></div>
                    <div class="flex-item">{{ 'reports.total' | translate | uppercase }}</div>
                    <div class="flex-item">{{total2}}</div>
                    <div class="flex-item">$ {{totalcost2}}</div>
                    <div style="flex: 5%;width: 5%;">
                    </div>
                </div>
            </div>   
        </div>
    </div>
   <!--  <table ng-if="tableTrackAuto.length" id="datatable" style="display: none;">
        <thead>
            <tr>
                <th>{{ 'reports.user' | translate }}</th>
                <th>{{ 'reports.client' | translate }}</th>
                <th>{{ 'reports.project' | translate }}</th>
                <th>{{ 'reports.task' | translate }}</th>
                <th>{{ 'reports.start_time' | translate }}</th>
                <th>{{ 'reports.end_time' | translate }}</th>
                <th>{{ 'reports.duration' | translate }}</th>
                <th>{{ 'reports.trackCost' | translate }}</th>
                <th class="imm-cstm__grid-5"></th>
            </tr>
        </thead>
        <tbody ng-repeat="tracksAuto in tableTrackAuto track by $index">
            <tr ng-repeat="trackAuto in tracksAuto.tracks"
                ng-class="{'active-task': !trackAuto.endTime || trackAuto.endTime == '0000-00-00 00:00:00'}"
                >
                <td>{{trackAuto.usersName}}</td>
                <td>LexartLabs</td>
                <td>{{trackAuto.projectError}}</td>
                <td>{{trackAuto.error}}</td>
                <td>{{trackAuto.startTime | date:'dd/MM/yyyy HH:mm' }}</td>
                <td>{{trackAuto.endTime ? trackAuto.endTime : '' | date:'dd/MM/yyyy HH:mm' }}</td>
                <td>{{trackAuto.durations}}</td>
                <td>$ {{trackAuto.trackCost}}</td>
                <td>
                    <a href="" ng-click="editAutoTrack(trackAuto)">
                        <img src="assets/images/icons/pencil-ico.svg">
                    </a>
                </td>
            </tr>
            <tr style="background-color: rgba(60, 144, 190, 0.1); font-weight: bold;">
                <td colspan="5"></td>
                <td>{{ 'reports.sub_total' | translate | uppercase }}</td>
                <td>{{tracksAuto.duration}}</td>
                <td>$ {{tracksAuto.subTotalCost}}</td >
                <td></td>
            </tr>
        </tbody>
        <tbody>
            <tr style="background-color: rgba(104, 149, 191, 0.4); font-weight: bold;">
                <td colspan="5"></td>
                <td>{{ 'reports.total' | translate | uppercase }}</td>
                <td>{{total2}}</td>
                <td>$ {{totalcost2}}</td>
                <td></td>
            </tr>
        </tbody>
    </table> -->

</div>

<!-- End Table -->
<div ng-if="itemTab == 1">
<br>
<a class="imm-bc-item" ng-if="trelloTracks.length">{{ 'reports.titleTrello' | translate }}</a>
<br><br>
</div>

<div class="imm-flex" ng-if="itemTab == 1">
    <div class='flex-table' ng-if="tableTrackTrello.length > 0">
        <div class='flex-head'>
            <div class="flex-item">{{ 'reports.user' | translate }}</div>
            <div class="flex-item">{{ 'reports.client' | translate }}</div>
            <div class="flex-item">{{ 'reports.project' | translate }}</div>
            <div class="flex-item">{{ 'reports.task' | translate }}</div>
            <div class="flex-item">{{ 'reports.start_time' | translate }}</div>
            <div class="flex-item">{{ 'reports.end_time' | translate }}</div>
            <div class="flex-item">{{ 'reports.duration' | translate }}</div>
            <div class="flex-item">{{ 'reports.trackCost' | translate }}</div>
            <div style="flex: 5%;width: 5%;"></div>
        </div>
        <!-- ORDENADO POR USUARIO -->
        <div ng-repeat="tracks in tableTrackTrello" class='flex-column' style="color: black;">
            <!-- ORDENADO POR PROYECTO -->
            <div ng-repeat="byProject in tracks.byProject" class='flex-column'>
                <!-- TRACKS TRELLO -->
                <div ng-repeat="track in byProject.tracks track by $index" class='flex-column-wrap'>
                    <div class='flex-row'>
                        <div class="flex-item">{{track.usersName}}</div>
                        <div class="flex-item">{{tracks.clientName}}</div>
                        <div class="flex-item">{{track.projectName}}</div>
                        <div class="flex-item">{{track.name | truncateTail:true:20:'...'}}</div>
                        <div class="flex-item">{{track.startTime | date:'dd/MM/yyyy HH:mm' }}</div>
                        <div class="flex-item">{{track.endTime ? track.endTime : '' | date:'dd/MM/yyyy HH:mm' }}</div>
                        <div class="flex-item">{{track.durations}}</div>
                        <div class="flex-item">$ {{track.trackCost}}</div>
                        <div style="flex: 5%;width: 5%;">
                            <a href="" ng-click="editTrelloTrack(track)">
                                <img src="assets/images/icons/pencil-ico.svg">
                            </a>
                        </div>
                    </div>
                    <!-- SUBTOTAL POR PROYECTO -->
                    <div class='flex-row' ng-if='$index == byProject.tracks.length - 1 && !filter.idProject' style='background-color: #ffff0069;font-weight: bold;'>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item">{{byProject.projectName | truncateTail:true:20:'...'}}</div>
                        <div class="flex-item">{{byProject.duration}}</div>
                        <div class="flex-item">$ {{byProject.subTotalCost}}</div>
                        <div style="flex: 5%;width: 5%;">
                        </div>
                    </div>
                </div>   
            </div>
            <!-- SUBTOTAL POR USUARIO -->
            <div class='flex-column' ng-if="userRole=='admin' && !filter.idUser">
                <div class='flex-column-wrap'>
                    <div class='flex-row' style='background-color: rgba(60, 144, 190, 0.1);font-weight: bold;'>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item"></div>
                        <div class="flex-item">{{ 'reports.sub_total' | translate | uppercase }}</div>
                        <div class="flex-item">{{tracks.duration}}</div>
                        <div class="flex-item">$ {{tracks.subTotalCost}}</div>
                        <div style="flex: 5%;width: 5%;">
                        </div>
                    </div>
                </div>   
            </div>
        </div>
        <div class='flex-column'>
            <div class='flex-column-wrap'>
                <div class='flex-row' style='background-color: rgba(59, 144, 190, 0.43);font-weight: bold;'>
                    <div class="flex-item"></div>
                    <div class="flex-item"></div>
                    <div class="flex-item"></div>
                    <div class="flex-item"></div>
                    <div class="flex-item"></div>
                    <div class="flex-item">{{ 'reports.total' | translate | uppercase }}</div>
                    <div class="flex-item">{{total3}}</div>
                    <div class="flex-item">$ {{totalcost3}}</div>
                    <div style="flex: 5%;width: 5%;">
                    </div>
                </div>
            </div>   
        </div>
    </div>
    <!-- <table ng-if="tableTrackTrello.length" id="datatable">
        <thead>
            <tr>
                <th>{{ 'reports.user' | translate }}</th>
                <th>{{ 'reports.client' | translate }}</th>
                <th>{{ 'reports.project' | translate }}</th>
                <th>{{ 'reports.task' | translate }}</th>
                <th>{{ 'reports.start_time' | translate }}</th>
                <th>{{ 'reports.end_time' | translate }}</th>
                <th>{{ 'reports.duration' | translate }}</th>
                <th>{{ 'reports.trackCost' | translate }}</th>
                <th class="imm-cstm__grid-5"></th>
            </tr>
        </thead>
        <tbody ng-repeat="tracksTrello in tableTrackTrello track by $index">
            <tr ng-repeat="trackTrello in tracksTrello.tracks"
                ng-class="{'active-task': !trackTrello.endTime || trackTrello.endTime == '0000-00-00 00:00:00'}"
                >
                <td>{{trackTrello.usersName}}</td>
                <td>{{trackTrello.client}}</td>
                <td>{{trackTrello.projectName}}</td>
                <td>{{trackTrello.name}}</td>
                <td>{{trackTrello.startTime | date:'dd/MM/yyyy HH:mm' }}</td>
                <td>{{trackTrello.endTime ? trackTrello.endTime : '' | date:'dd/MM/yyyy HH:mm' }}</td>
                <td>{{trackTrello.durations}}</td>
                <td>$ {{trackTrello.trackCost}}</td>
                <td>
                    <a href="" ng-click="editTrelloTrack(trackTrello)">
                        <img src="assets/images/icons/pencil-ico.svg">
                    </a>
                </td>
            </tr>
            <tr style="background-color: rgba(60, 144, 190, 0.1); font-weight: bold;">
                <td colspan="5"></td>
                <td>{{ 'reports.sub_total' | translate | uppercase }}</td>
                <td>{{tracksTrello.duration}}</td>
                <td>$ {{tracksTrello.subTotalCost}}</td >
                <td></td>
            </tr>
        </tbody>
        <tbody>
            <tr style="background-color: rgba(104, 149, 191, 0.4); font-weight: bold;">
                <td colspan="5"></td>
                <td>{{ 'reports.total' | translate | uppercase }}</td>
                <td>{{total3}}</td>
                <td>$ {{totalcost3}}</td>
                <td></td>
            </tr>
        </tbody>
    </table> -->

</div>
<div ng-if="itemTab == 1">
<div style="text-align: left;background-color: rgba(16, 192, 0, 0.4);margin-top: 2%; font-weight: bold;padding-left:73%; padding-top: 6px;font-size: 11px;">TOTAL HORAS:  {{finalHour}}</div>
<div style="text-align: left;background-color: rgba(16, 192, 0, 0.4); font-weight: bold;padding-left: 73%; padding-bottom: 5px; font-size: 11px;">TOTAL COSTO: ${{totalcost + totalcost2 + totalcost3}}</div>
<!-- End Table -->
</div>

<div class="imm-cstm__grid-90">
    <div ng-if="itemTab == 2">
         <!-- Graph tabs -->
         <div class="imm-frm__fld">
            <ul class="imm-tabs" ng-init="itemTab = 1">
                <li class="imm-tabs__item" ng-click="itemTab = 1" ng-class="{'imm-tabs__item--selected' : itemTab == 1}">Usuarios</li>
                <li class="imm-tabs__item" ng-click="itemTab = 2" ng-class="{'imm-tabs__item--selected' : itemTab == 2}">Clientes</li>
            </ul>
        </div>
        <!--End graph tabs-->
        <!-- Bar Graph User-->
        <div ng-if="itemTab == 1">
            <div class="imm-frm__fldgrp">
                <div class="imm-frm__fld">
                    <div class="imm-tit">
                        <h2 class="imm-wa__tit">
                            <a class="imm-bc-item">{{ 'reports.users' | translate }}</a>
                        </h2>
                    </div>
                    <canvas id="base" class="chart-base" chart-type="typeBarUser"
                    chart-data="dataBarUsers" chart-labels="labelsBarUsers">
                    </canvas>
                </div>

                <!-- Round Graph Users -->
                <div class="imm-frm__fld">
                    <div class="imm-tit">
                        <h2 class="imm-wa__tit">
                            <a class="imm-bc-item">Total de horas {{finalHour}}</a>
                        </h2>
                    </div>
                    <div>
                        <canvas id="base" class="chart-base" chart-type="typeUser"
                            chart-data="dataRoundUsers" chart-labels="labelsRoundUsers">
                        </canvas>
                    </div>
                </div>
            </div>
        <!-- Round End Graph -->
        </div>

        <!-- Bar Graph Clients-->
        <div ng-if="itemTab == 2">
            <div class="imm-frm__fldgrp">
                <div class="imm-frm__fld">
                    <div class="imm-tit">
                        <h2 class="imm-wa__tit">
                            <a class="imm-bc-item">{{ 'reports.clients' | translate }}</a>
                        </h2>
                    </div>
                    <canvas id="base" class="chart-base" chart-type="typeBarClient"
                    chart-data="dataBarClients" chart-labels="labelsBarClients">
                    </canvas>
                </div>

                <!-- Round Graph Clients -->
                <div class="imm-frm__fld">
                    <div class="imm-tit">
                        <h2 class="imm-wa__tit">
                            <a class="imm-bc-item">Total de horas {{finalHour}}</a>
                        </h2>
                    </div>
                    <canvas id="base" class="chart-base" chart-type="typeClient"
                    chart-data="dataRoundClients" chart-labels="labelsRoundClients">
                    </canvas>
                </div>
            </div>
        </div>
        <!-- Round End Graph -->
    </div>
</div>
<!-- End Bar Graph -->
</div>
</div>
</div>

<div ng-if="tabReport == 2">
    <div class="imm-wa__hdr imm-flex" style="margin-top: 10px;">
        <div class="imm-flex-5">
            <h1 class="imm-wa__tit">
                <a class="imm-bc-item">Reportes Proyectos</a>
            </h1>
        </div>
    </div>
    <div class="imm-wa__cnt">
       <div class="imm-flex">
        <table ng-if="projectsTab.length" >
            <thead>
                <tr>
                    <th>{{ 'reports.idProject' | translate }}</th>
                    <th>{{ 'reports.project' | translate }}</th>
                    <th>{{ 'reports.description' | translate }}</th>
                    <th>{{ 'reports.client' | translate }}</th>
                    <th>{{ 'reports.duration' | translate }}</th>
                    <th>{{ 'reports.tracked' | translate }}</th>
                    <th>{{ 'reports.totalCost' | translate }}</th>
                    <th>{{ 'reports.presupuesto' | translate }}</th>
                    <th class="imm-cstm__grid-5"></th>
                </tr>
            </thead>
                <tr>
                    <td><input class="field-filter" ng-model="filtername.id"></td>
                    <td><input class="field-filter" ng-model="filtername.name"></td>
                    <td><input class="field-filter" ng-model="filtername.description"></td>
                    <td><input class="field-filter" ng-model="filtername.clientName"></td>
                    <td><input class="field-filter" ng-model="filtername.duration"></td>
                    <td><input class="field-filter" ng-model="filtername.tracked"></td>
                    <td><input class="field-filter" ng-model="filtername.totalCost"></td>
                    <td><input class="field-filter" ng-model="filtername.presupuesto"></td>
                    <td></td>
                </tr>
                <tr ng-repeat="projectsAll in projectsTab">
                    <td>{{projectsAll.id }}</td>
                    <td>{{projectsAll.name | truncateTail:true:20:'...'}}</td>
                    <td>{{projectsAll.description | truncateTail:true:50:'...'}}</td>
                    <td>{{projectsAll.clientName | date:'dd/MM/yyyy HH:mm' }}</td>
                    <td>{{projectsAll.duration}}</td>
                    <td>{{projectsAll.tracked | truncateTail:true:10:'...'}}</td>
                    <td>$ {{projectsAll.totalCost}}</td>
                    <td>$ {{projectsAll.presupuesto}}</td>
                    <td></td>
                </tr>
        </table>
</div>
</div>
<paging
    ng-show="totalTab>pageSize"
    page="currentPage"
    page-size="pageSize"
    total="totalTab"
    hide-if-empty="true"
    show-prev-next="true"
    show-first-last="true"
    scroll-top="true"
    paging-action="pager(page)">
</paging>
</div>
